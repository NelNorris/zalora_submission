var Hodor=function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={exports:{},id:r,loaded:!1};return e[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(21)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return window},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setSendingTimeout=t.generate=t.clear=t.send=t.get=t.add=void 0;var u=n(1),o=r(u),a=n(6),i=[],f=null,d=3e3,c=function(){i.length&&((0,a.sendMetrics)(i),i=[])},l=function(e){if(Array.isArray(e)?i=i.concat(e):i.push(e),i.length){var t=(0,o.default)();t.clearTimeout(f),f=t.setTimeout(c,d)}return!0},s=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ms";return e+"."+t+":"+n+"|"+r},v=function(){return i},p=function(){i=[]},y=function(e){d=e};t.add=l,t.get=v,t.send=c,t.clear=p,t.generate=s,t.setSendingTimeout=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(4),o=r(u);t.default=function(e){return function(){try{return e.apply(void 0,arguments)}catch(e){(0,o.default)(e)}return null}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=r(u);t.default=function(e){var t=(0,o.default)();t.console&&t.console.log(e)},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=(t.server="https://rum.prod.zalora.io/data/v1/send",t.threshold=3e5,t.enableResourceTimingsOnCountry=["ph","id","my"],{"dy-coll-min.js":"dy_col_min_js","st.dynamicyield.com/st":"st_dynamicyield_com","api_dynamic.js":"api_dynamic","api_static.js":"api_static","vizury_data.json":"vizury_json"}),u={"ajax-pick/scan-picklist-item":"scan_picklist_item","ajax-pick/finish-tote":"finish_tote","ajax-location/scan-tote-cart":"scan_tote_cart","ajax-pick/request-other-location":"request_other_location"};t.timingResources=n({},r,u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setServer=t.sendMetrics=void 0;var u=n(1),o=r(u),a=n(4),i=r(a),f=null,d=function(e){f=e},c=function(e){if(!f)return(0,i.default)("Invalid server!"),!1;var t=(0,o.default)(),n=e.join("\n");if(t.navigator&&void 0!==t.navigator.sendBeacon)t.navigator.sendBeacon(f,n);else if(t.$&&"function"==typeof t.$.ajax)t.$.ajax({type:"POST",url:f,data:n,dataType:"text"});else{var r=new t.XMLHttpRequest;r.open("POST",f,!1),r.setRequestHeader("Content-Type","text/plain"),r.send(n)}return!0};t.sendMetrics=c,t.setServer=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),o=n(4),a=r(o),i=n(3),f=r(i),d=n(5),c=n(1),l=r(c),s="users",v=function(){return+new Date},p=null,y={},_=function(e){p=e.resolvePrefix},m=function(e){return e?((0,u.add)((0,u.generate)(p(),s+"."+e+".count",1,"c")),!0):((0,a.default)("Metric can not be empty!"),!1)},g=(0,f.default)(function(e){return e?void 0!==y[e]?((0,a.default)("Metric '"+e+"' was already started!"),!1):(y[e]=v(),!0):((0,a.default)("Metric can not be empty!"),!1)}),h=(0,f.default)(function(e){if(!e)return(0,a.default)("Metric can not be empty!"),!1;if(void 0===y[e])return(0,a.default)("Metric '"+e+"' is not started yet!"),!1;var t=v()-y[e];return delete y[e],t>0&&d.threshold>=t&&(0,u.add)((0,u.generate)(p(),s+"."+e,t,"ms")),!0}),b=(0,f.default)(function(e){var t=(0,l.default)();t.performance&&"function"==typeof t.performance.now&&(0,u.add)((0,u.generate)(p(),s+"."+e,Math.round(t.performance.now()),"ms"))});t.default={count:m,init:_,start:g,end:h,mark:b},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),o=n(3),a=r(o),i=n(1),f=r(i),d=function(){var e=(0,f.default)();return e.location&&e.location.href?e.location.href.indexOf("/data/")!==-1?null:e.location.href.indexOf("utm_source=Affiliate")!==-1||e.location.href.indexOf("utm_source%3DAffiliate")!==-1:null},c=(0,a.default)(function(e){var t=e.resolvePrefix,n=t();if(n){d()&&(0,u.add)([(0,u.generate)(n,"affiliate.count",1,"c")]);var r=location.href.match(/utm_source(=|%3D)([a-zA-Z .0-9-]+)/);if(r&&r.length>=3&&r[2]){var o=r[2].toLowerCase().replace(/[- .]/g,"_");(0,u.add)([(0,u.generate)(n,"utm_source."+o+".count",1,"c")])}}});t.default={init:c},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={1:"opened",2:"headersReceived",3:"loading",4:"done"};t.default=function(e){return void 0!==n[e]?n[e]:null},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(2),a=n(9),i=r(a),f=n(5);t.default=function(e,t){if(!t||"object"!==(void 0===e?"undefined":u(e)))return[];var n=Object.keys(e);if(4>n.length)return[];for(var r=[],a=0;n.length>a;a+=1){var d=n[a],c=e[d],l=(0,i.default)(d);if(!l||0>c||c>=f.threshold)return[];r.push((0,o.generate)(t,l,e[d]))}return r},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=r(u),a=n(3),i=r(a),f=n(10),d=r(f),c=n(2),l=function(){return+new Date};t.default=function(e){var t=e.resolveAjaxNs,n=(0,o.default)(),r=n.XMLHttpRequest;return n.XMLHttpRequest=function(){var e=new r,n={},u=void 0,o=e.open;e.open=function(){for(var r=arguments.length,a=Array(r),f=0;r>f;f++)a[f]=arguments[f];return(0,i.default)(function(){e.addEventListener("readystatechange",function(){n[e.readyState]=l()}),e.addEventListener("loadend",function(){var e={};Object.keys(n).forEach(function(t){e[t]=n[t]-=u});var r=(0,d.default)(e,t.apply(void 0,a));r.length&&(0,c.add)(r)})})(),o.apply(e,a)};var a=e.send;return e.send=function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];return u=l(),a.apply(e,n)},e},n.XMLHttpRequest.UNSENT=r.UNSENT,n.XMLHttpRequest.OPENED=r.OPENED,n.XMLHttpRequest.HEADERS_RECEIVED=r.HEADERS_RECEIVED,n.XMLHttpRequest.LOADING=r.LOADING,n.XMLHttpRequest.DONE=r.DONE,!0},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],r=!0,u=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){u=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(u)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(3),a=r(o),i=n(1),f=r(i),d=n(2),c=n(5),l=["requestStart","responseStart","responseEnd","domContentLoadedEventEnd","loadEventEnd"],s=function(e){return function(t){return void 0!==e[t]&&e[t]>0}},v=function(e){return e[1]>=0&&c.threshold>e[1]},p=function(e){return function(t){return[t,e[t]-e.navigationStart]}},y=function(e){return function(t){var n=u(t,2),r=n[0],o=n[1];return(0,d.generate)(e,r,o)}};t.default=(0,a.default)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,n=(0,f.default)().performance.timing;if(0!==n.loadEventEnd){var r=e();if(!r)return null;var u=t.filter(s(n)).map(p(n)).filter(v);return t.length>u.length?[]:[].concat(u.map(y(r)))}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.__setIsAddedForTest=void 0;var u=n(2),o=n(14),a=r(o),i=n(12),f=r(i),d=n(3),c=r(d),l=n(4),s=r(l),v=n(1),p=r(v),y=!1,_=(0,c.default)(function(e){if(y)return!1;var t=e.resolvePrefix,n=e.resolveReqNs,r=e.navigationMetricNames;if(!(0,a.default)()){var o=t();return o&&(0,u.add)([(0,u.generate)(o,"isTimingUnsupported.count",1,"c")]),(0,s.default)("NavigationTiming is not supported!"),!1}var i=(0,f.default)(n,r);return null!==i&&(void 0===i?((0,p.default)().setTimeout(function(){return _(e)},500),!1):(i.length&&(0,u.add)(i),y=!0,!0))});t.__setIsAddedForTest=function(e){y=e};t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=r(u);t.default=function(){var e=(0,o.default)();return void 0!==e.performance&&void 0!==e.performance.timing},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.isTimingResource=void 0;var u=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(3),a=r(o),i=n(5),f=n(2),d=n(16),c=r(d),l=n(1),s=r(l),v=[],p=1e3,y=function(e,t,n){return Math.round(e[t]-e[n])},_=Object.keys(i.timingResources),m=function(e){return _.find(function(t){return e.search(RegExp(t))!==-1})},g=function(e){return!!m(e)},h=function(e){return!!e.requestStart},b=function(e){if(h(e)){var t=y(e,"redirectEnd","redirectStart"),n=y(e,"domainLookupEnd","domainLookupStart"),r=y(e,"connectEnd","connectStart"),u=y(e,"responseStart","requestStart"),o=y(e,"responseStart","startTime"),a=y(e,"responseEnd","responseStart");return{redirect:t,dns:n,tcp:r,waiting:u,ttfb:o,transfer:a}}return{}},M=function(e){var t=i.timingResources[m(e.name)],n=Math.round(e.duration),r=Math.round(e.startTime);return u({resourceName:t,duration:n,startTime:r},b(e))},j=function(e){return function(t){Object.keys(t).filter(function(e){return"resourceName"!==e}).forEach(function(n){(0,f.add)([(0,f.generate)(e,"resources."+t.resourceName+"."+n,t[n],"ms")])})}},O=function(){return(0,s.default)().performance.getEntriesByType("resource").filter(function(e){var t=e.name;return g(t)})},x=function(e){return!v.find(function(t){return Object.is(e,t)})},E=(0,a.default)(function(e){var t=e.getCountry,n=e.resolvePrefix,r=e.continousResourceTimingCollecting;if(i.enableResourceTimingsOnCountry.indexOf(t())!==-1&&(0,c.default)()){var u=j(n()),o=O();o.filter(x).forEach(function(e){return u(M(e))}),v=o,r&&(0,s.default)().setTimeout(function(){return E(e)},p)}});t.default=E,t.isTimingResource=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=r(u);t.default=function(){var e=(0,o.default)();return void 0!==e.performance&&"function"==typeof e.performance.getEntriesByType},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(1),a=r(o),i=n(6),f=n(11),d=r(f),c=n(13),l=r(c),s=n(15),v=r(s),p=n(2),y=n(7),_=r(y),m=n(8),g=r(m),h=n(4),b=r(h),M={server:"string",resolvePrefix:"function",resolveReqNs:"function",resolveAjaxNs:"function",getCountry:"function"},j=function(e){return"object"!==(void 0===e?"undefined":u(e))||"object"===(void 0===e?"undefined":u(e))&&null===e?((0,b.default)("must have options object"),!1):!Object.keys(M).find(function(t){return u(e[t])!==M[t]&&((0,b.default)("option '"+t+"' must have '"+M[t]+"' type!"),!0)})},O=function(e){return function(){(0,l.default)(e),(0,v.default)(e)}};t.default=function(e){if(!j(e))return!1;(0,i.setServer)(e.server),(0,d.default)(e),_.default.init(e);var t=O(e),n=(0,a.default)();return"complete"!==n.document.readyState?(n.addEventListener("load",t),n.addEventListener("unload",p.send)):t(),document.addEventListener("DOMContentLoaded",function(){g.default.init(e)}),!0},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(17),o=r(u),a=n(7),i=r(a),f=i.default.count,d=i.default.start,c=i.default.end,l=i.default.mark;t.default={init:o.default,count:f,start:d,end:c,mark:l},e.exports=t.default},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(18),o=r(u),a=n(1),i=r(a),f=n(3),d=r(f),c=n(5),l=(0,i.default)(),s=(0,d.default)(function(){return l.dataLayer[0]["Country-Province"].toLowerCase()}),v=(0,d.default)(function(){return l.Zalora.jsStore?l.Zalora.jsStore.cdn_url.indexOf("zacdn.com")!==-1:"live"}),p=(0,d.default)(function(){return["rum.shopmobile",v()?"live":"dev",s()].join(".")}),y=(0,d.default)(function(){return l.dataLayer[0].Page_Type?p()+"."+l.dataLayer[0].Page_Type:null}),_=(0,d.default)(function(e,t){var n=document.createElement("a");if(n.href=t,n.hostname.indexOf(".zalora.")!==-1&&n.pathname.indexOf("/data/v1/send")===-1&&n.pathname.indexOf("/data")!==-1){var r=n.search.match(/method=([A-Za-z.]+)/i);if(r&&r.length>=2)return p()+".ajax."+r[1].toLowerCase()}return null});o.default.init({resolvePrefix:p,resolveReqNs:y,resolveAjaxNs:_,server:c.server,getCountry:s}),t.default=o.default,e.exports=t.default}]);
//# sourceMappingURL=rum.shopmobile.min.js.map